---
page_title: "cloudfoundry_app Resource - terraform-provider-cloudfoundry"
subcategory: ""
description: |-
  Provides a Cloud Foundry resource to manage applications.
---

# cloudfoundry_app (Resource)

Provides a Cloud Foundry resource to manage applications.

## Example Usage

```terraform
terraform {
  required_providers {
    cloudfoundry = {
      source = "sap/cloudfoundry"
    }
    zipper = {
      source = "ArthurHlt/zipper"
    }
  }
}
provider "cloudfoundry" {}

provider "zipper" {}

resource "zipper_file" "fixture" {
  source      = "https://github.com/cloudfoundry-samples/cf-sample-app-nodejs.git"
  output_path = "cf-sample-app-nodejs.zip"
}

resource "cloudfoundry_app" "gobis-server" {
  name             = "tf-test-do-not-delete-nodejs"
  space_name       = "tf-space-1"
  org_name         = "PerformanceTeamBLR"
  path             = zipper_file.fixture.output_path
  source_code_hash = zipper_file.fixture.output_sha
  instances        = 1
  environment = {
    MY_ENV = "red",
  }
  strategy = "rolling"
  service_bindings = [
    {
      service_instance : "xsuaa-tf"
      params = <<EOT
{
  "xsappname": "tf-test-app",
  "tenant-mode": "dedicated",
  "description": "tf test123",
  "foreign-scope-references": ["user_attributes"],
  "scopes": [
    {
      "name": "uaa.user",
      "description": "UAA"
    }
  ],
  "role-templates": [
    {
      "name": "Token_Exchange",
      "description": "UAA",
      "scope-references": ["uaa.user"]
    }
  ]
}
EOT
    }
  ]
  routes = [
    {
      route = "tf-test-do-not-delete-nodejs.cfapps.sap.hana.ondemand.com"
    }
  ]
}

resource "cloudfoundry_app" "http-bin-server" {
  name         = "tf-test-do-not-delete-http-bin"
  space_name   = "tf-space-1"
  org_name     = "PerformanceTeamBLR"
  docker_image = "kennethreitz/httpbin"
  strategy     = "blue-green"
  labels = {
    "app" = "backend",
    "env" = "production"
  }
  annotations = {
    "created-by" = "me",
  }
  processes = [
    {
      type                                 = "web",
      instances                            = 1
      memory                               = "256M"
      disk_quota                           = "1024M"
      health_check_type                    = "http"
      health_check_http_endpoint           = "/get"
      readiness_health_check_type          = "http"
      readiness_health_check_http_endpoint = "/get"
    }
  ]
  no_route = true
}

resource "cloudfoundry_app" "http-bin-sidecar" {
  name         = "tf-test-do-not-delete-http-bin-sidecar"
  space_name   = "tf-space-1"
  org_name     = "PerformanceTeamBLR"
  docker_image = "kennethreitz/httpbin"
  sidecars = [
    {
      name = "sidecar-1"
      process_types = [
        "worker"
      ]
      command = "sleep 5200"
      memory  = "256M"
    }
  ]
  no_route = true
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the application.
- `org_name` (String) The name of the associated Cloud Foundry organization.
- `space_name` (String) The name of the associated Cloud Foundry space.

### Optional

- `annotations` (Map of String) The annotations associated with Cloud Foundry resources. Add as described [here](https://docs.cloudfoundry.org/adminguide/metadata.html#-view-metadata-for-an-object).
- `buildpacks` (Set of String) Multiple buildpacks used to stage the application.
- `command` (String) A custom start command for the application. This overrides the start command provided by the buildpack.
- `disk_quota` (String) The disk space to be allocated for each application instance.
- `docker_credentials` (Attributes) Defines login credentials for private docker repositories (see [below for nested schema](#nestedatt--docker_credentials))
- `docker_image` (String) The URL to the docker image with tag e.g registry.example.com:5000/user/repository/tag or docker image name from the public repo e.g. redis:4.0
- `environment` (Map of String) Key/value pairs of custom environment variables to set in your app. Does not include any system or service variables.
- `health_check_http_endpoint` (String) The endpoint for the http health check type.
- `health_check_interval` (Number) The interval in seconds between health checks.
- `health_check_invocation_timeout` (Number) The timeout in seconds for the health check requests for http and port health checks.
- `health_check_type` (String) The health check type which can be one of 'port', 'process', 'http'.
- `instances` (Number) The number of app instances that you want to start. Defaults to 1.
- `labels` (Map of String) The labels associated with Cloud Foundry resources. Add as described [here](https://docs.cloudfoundry.org/adminguide/metadata.html#-view-metadata-for-an-object).
- `log_rate_limit_per_second` (String) The attribute specifies the log rate limit for all instances of an app.
- `memory` (String) The memory limit for each application instance. If not provided, value is computed and retreived from Cloud Foundry.
- `no_route` (Boolean) The attribute with a value of true to prevent a route from being created for your app.
- `path` (String) An uri or path to target a zip file. this can be in the form of a unix path or url path.
- `processes` (Attributes Set) List of configurations for individual process types. (see [below for nested schema](#nestedatt--processes))
- `random_route` (Boolean) The random-route attribute to generate a unique route and avoid name collisions.
- `readiness_health_check_http_endpoint` (String) The endpoint for the http readiness health check type.
- `readiness_health_check_interval` (Number) The interval in seconds between readiness health checks.
- `readiness_health_check_invocation_timeout` (Number) The timeout in seconds for the readiness health check requests for http and port health checks.
- `readiness_health_check_type` (String) The readiness health check type which can be one of 'port', 'process', 'http'.
- `routes` (Attributes Set) The routes to map to the application to control its ingress traffic. (see [below for nested schema](#nestedatt--routes))
- `service_bindings` (Attributes Set) Service instances to bind to the application. (see [below for nested schema](#nestedatt--service_bindings))
- `sidecars` (Attributes Set) The attribute specifies additional processes to run in the same container as your app (see [below for nested schema](#nestedatt--sidecars))
- `source_code_hash` (String) Used to trigger updates. Must be set to a base64-encoded SHA256 hash of the path specified.
- `stack` (String) The base operating system and file system that your application will execute in. Please refer to the [docs](https://v3-apidocs.cloudfoundry.org/version/3.155.0/index.html#stacks) for more information
- `strategy` (String) The deployment strategy to use when deploying the application. Valid values are 'none', 'rolling', and 'blue-green', defaults to 'none'.
- `timeout` (Number) Time in seconds at which the health-check will report failure.

### Read-Only

- `created_at` (String) The date and time when the resource was created in [RFC3339](https://www.ietf.org/rfc/rfc3339.txt) format.
- `id` (String) The GUID of the object.
- `updated_at` (String) The date and time when the resource was updated in [RFC3339](https://www.ietf.org/rfc/rfc3339.txt) format.

<a id="nestedatt--docker_credentials"></a>
### Nested Schema for `docker_credentials`

Required:

- `username` (String, Sensitive) The username for the private docker repository.

Optional:

- `password` (String, Sensitive) The password for the private docker repository.


<a id="nestedatt--processes"></a>
### Nested Schema for `processes`

Required:

- `type` (String) The process type. Can be web or worker.

Optional:

- `command` (String) A custom start command for the application. This overrides the start command provided by the buildpack.
- `disk_quota` (String) The disk space to be allocated for each application instance.
- `health_check_http_endpoint` (String) The endpoint for the http health check type.
- `health_check_interval` (Number) The interval in seconds between health checks.
- `health_check_invocation_timeout` (Number) The timeout in seconds for the health check requests for http and port health checks.
- `health_check_type` (String) The health check type which can be one of 'port', 'process', 'http'.
- `instances` (Number) The number of app instances that you want to start. Defaults to 1.
- `log_rate_limit_per_second` (String) The attribute specifies the log rate limit for all instances of an app.
- `memory` (String) The memory limit for each application instance. If not provided, value is computed and retreived from Cloud Foundry.
- `readiness_health_check_http_endpoint` (String) The endpoint for the http readiness health check type.
- `readiness_health_check_interval` (Number) The interval in seconds between readiness health checks.
- `readiness_health_check_invocation_timeout` (Number) The timeout in seconds for the readiness health check requests for http and port health checks.
- `readiness_health_check_type` (String) The readiness health check type which can be one of 'port', 'process', 'http'.
- `timeout` (Number) Time in seconds at which the health-check will report failure.


<a id="nestedatt--routes"></a>
### Nested Schema for `routes`

Required:

- `route` (String) The fully route qualified domain name which will be bound to app

Optional:

- `protocol` (String) The protocol to use for the route. Valid values are http2, http1, and tcp.


<a id="nestedatt--service_bindings"></a>
### Nested Schema for `service_bindings`

Required:

- `service_instance` (String) The service instance name.

Optional:

- `params` (String) A json object to send to the service broker during service binding.


<a id="nestedatt--sidecars"></a>
### Nested Schema for `sidecars`

Required:

- `name` (String) Sidecar name. The identifier for the sidecars to be configured.

Optional:

- `command` (String) The command used to start the sidecar.
- `memory` (String) The memory limit for the sidecar.
- `process_types` (Set of String) List of processes to associate sidecar with.

## Import

Import is supported using the following syntax:

```terraform
# terraform import cloudfoundry_app.<resource_name> <app_guid>

terraform import 'cloudfoundry_app.gobis-server' f71f4a6e-253c-4025-8e45-d2be1a0d9b15
```